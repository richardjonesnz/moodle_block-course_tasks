{"version":3,"sources":["../src/tasklist.js"],"names":["error","key","component","form","document","querySelector","tasklist","clearBtn","taskInput","messages","addEventListener","addTask","removeTask","clearTasks","value","li","createElement","className","appendChild","createTextNode","link","innerHTML","Str","get_strings","then","result","toString","event","preventDefault","target","parentElement","classList","contains","remove","firstChild","removeChild","get_tasks"],"mappings":"+bACA,O,yiBACIA,CAAAA,CAAK,CAAG,CAAE,CAACC,GAAG,CAAC,QAAL,CAAeC,SAAS,CAAE,mBAA1B,CAAF,C,CAGNC,CAAI,CAAGC,QAAQ,CAACC,aAAT,CAAuB,+BAAvB,C,CACPC,CAAQ,CAAGF,QAAQ,CAACC,aAAT,CAAuB,gCAAvB,C,CACXE,CAAQ,CAAGH,QAAQ,CAACC,aAAT,CAAuB,iCAAvB,C,CACXG,CAAS,CAAGJ,QAAQ,CAACC,aAAT,CAAuB,0BAAvB,C,CACZI,CAAQ,CAAGL,QAAQ,CAACC,aAAT,CAAuB,6BAAvB,C,CAEjB,CAGA,UAA8B,CAE1BF,CAAI,CAACO,gBAAL,CAAsB,QAAtB,CAAgCC,CAAhC,EAEAL,CAAQ,CAACI,gBAAT,CAA0B,OAA1B,CAAmCE,CAAnC,EAEAL,CAAQ,CAACG,gBAAT,CAA0B,OAA1B,CAAmCG,CAAnC,CACH,CAVD,IAYA,QAASF,CAAAA,CAAT,EAAmB,CAEf,GAAwB,EAApB,GAAAH,CAAS,CAACM,KAAd,CAA4B,CAExB,GAAMC,CAAAA,CAAE,CAAGX,QAAQ,CAACY,aAAT,CAAuB,IAAvB,CAAX,CACAD,CAAE,CAACE,SAAH,CAAe,oDAAf,CACAF,CAAE,CAACG,WAAH,CAAed,QAAQ,CAACe,cAAT,CAAwBX,CAAS,CAACM,KAAlC,CAAf,EAGA,GAAMM,CAAAA,CAAI,CAAGhB,QAAQ,CAACY,aAAT,CAAuB,GAAvB,CAAb,CACAI,CAAI,CAACH,SAAL,CAAiB,gCAAjB,CACAG,CAAI,CAACC,SAAL,CAAiB,+BAAjB,CAEAN,CAAE,CAACG,WAAH,CAAeE,CAAf,EAEAd,CAAQ,CAACY,WAAT,CAAqBH,CAArB,CACH,CAdD,IAcO,CACHO,CAAG,CAACC,WAAJ,CAAgBvB,CAAhB,EAAuBwB,IAAvB,CAA4B,SAASC,CAAT,CAAiB,CACzChB,CAAQ,CAACY,SAAT,CAAqBI,CAAM,CAACC,QAAP,EACxB,CAFD,CAGH,CAEDlB,CAAS,CAACM,KAAV,CAAkB,EAAlB,CACAa,KAAK,CAACC,cAAN,EACH,CAED,QAAShB,CAAAA,CAAT,EAAsB,CAElB,GAAIe,KAAK,CAACE,MAAN,CAAaC,aAAb,CAA2BA,aAA3B,CAAyCC,SAAzC,CAAmDC,QAAnD,CAA4D,oCAA5D,CAAJ,CAAuG,CACnGL,KAAK,CAACE,MAAN,CAAaC,aAAb,CAA2BA,aAA3B,CAAyCG,MAAzC,EACH,CACJ,CAED,QAASpB,CAAAA,CAAT,EAAsB,CAElB,MAAMP,CAAQ,CAAC4B,UAAf,CAA2B,CACvB5B,CAAQ,CAAC6B,WAAT,CAAqB7B,CAAQ,CAAC4B,UAA9B,CACH,CACJ,C,YAEwB,QAAZE,CAAAA,SAAY,EAAM,CAC3B,MAAO,WACV,C","sourcesContent":["// Simplified from code by: https://www.udemy.com/user/brad-traversy/\nimport * as Str from 'core/str';\nvar error = [ {key:'notask', component: 'block_coursetasks'}];\n\n// Define UI elements.\nconst form = document.querySelector(\"#block_course_tasks-task-form\");\nconst tasklist = document.querySelector(\".block_course_tasks-collection\");\nconst clearBtn = document.querySelector(\".block_course_tasks-clear-tasks\");\nconst taskInput = document.querySelector(\"#block_course_tasks-task\");\nconst messages = document.querySelector('#block_coursetasks-messages');\n\nloadEventListeners();\n\n// Load all event listeners.\nfunction loadEventListeners() {\n    // Add task event.\n    form.addEventListener('submit', addTask);\n    // Remove task event.\n    tasklist.addEventListener(\"click\", removeTask);\n    // Clear all tasks.\n    clearBtn.addEventListener(\"click\", clearTasks);\n}\n\nfunction addTask() {\n\n    if (taskInput.value !== '') {\n        // Create a new li element, add class and text node.\n        const li = document.createElement('li');\n        li.className = 'block_course_tasks-collection-item list-group-item';\n        li.appendChild(document.createTextNode(taskInput.value));\n\n        // Create new link element with fa icon, add to li.\n        const link = document.createElement('a');\n        link.className = 'block_course_tasks-delete-item';\n        link.innerHTML = '<i class=\"fa fa-times\"></i>';\n\n        li.appendChild(link);\n\n        tasklist.appendChild(li);\n    } else {\n        Str.get_strings(error).then(function(result) {\n            messages.innerHTML = result.toString();\n        });\n    }\n\n    taskInput.value = '';\n    event.preventDefault();\n}\n\nfunction removeTask() {\n    // We put the event listener on the ul so find the a link.\n    if (event.target.parentElement.parentElement.classList.contains('block_course_tasks-collection-item')) {\n        event.target.parentElement.parentElement.remove();\n    }\n}\n\nfunction clearTasks() {\n    // window.console.log(tasklist.firstChild);\n    while(tasklist.firstChild) {\n        tasklist.removeChild(tasklist.firstChild);\n    }\n}\n\nexport const get_tasks = () => {\n    return 'task list';\n};"],"file":"tasklist.min.js"}